# Проект банковского виджета

## Описание

Данный проект является учебным и представляет собой практику над банковским виджетом

## Установка

1. Клонирование репозитория 

git clone https://github.com/Yauheni89/Dz_10_2.git

1. Установите зависимостей проекта

poetry install


## Работа виджета
Запуск осуществляется в модуле main.py

## Функции:

### модуль widget:
- **get_masked_data** - Функция принимает данные и возвращает данные замаскированным номером карты/счета
- **get_data** - Функция преобразует дату формата ГГГГ-ММ-ДД в формат ДД-ММ-ГГГГ.

### модуль masks:
- **mask_card_numbers** - Функция принимает на вход номер карты и возвращает ее маску.
- **mask_account_numbers** - Функция принимает на вход номер счета и возвращает его маску.
- **get_masked_nums** - Функция определяет введен номер карты или номер счета.

### модуль generators:
- **filter_by_currency** - Функция фильтрует операции по заданной валюте.
- **transaction_descriptions** - Функция генерирует описание каждой операции по очереди.
- **card_number_generator** - Функция генерирует номера карт в формате XXXX XXXX XXXX XXXX в заданном диапазоне.

### модуль processing:
- **filter_by_state** - Функция принимает на вход список словарей и значение для ключа stat (опциональный параметр со значением по умолчанию EXECUTED) и возвращает новый список, содержащий только те словари, у которых ключ state содержит переданное в функцию значение.
- **sort_dicts_by_date** - Функция принимает на вход список словарей и возвращает новый список, в котором исходные словари отсортированы по убыванию даты (ключ date).

## модуль decorators:
log - Функция-декоратор. Логирует вызовы функций и их результаты. Она может логировать в файл или в консоль.

## модуль utils:
- **read_operations** - Функция читает данные о финансовых операциях из JSON-файла.

## модуль external:
- **convert_to_rub** - Функция конвертирует заданную сумму из указанной валюты в рубли.

## Логирование:
- В проекте было разработано добавление логов у таких модулей как utils и masks. Логи перезаписываются в папку logs при каждом запуске функций.

## Тесты
Производятся из пакета tests в котором находятся модули (test_ + имя тестируемого модуля из src)

### Запуск всех тестов:

pytest


### Запуск всех тестов c информацией о покрытии:

pytest --cov
